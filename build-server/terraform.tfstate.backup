{
  "version": 4,
  "terraform_version": "0.12.24",
  "serial": 27,
  "lineage": "027499eb-c26b-6e3f-f509-cbd1d36ca194",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "google_cloudbuild_trigger",
      "name": "hurra-build",
      "each": "map",
      "provider": "provider.google",
      "instances": [
        {
          "index_key": "nginx-proxy",
          "schema_version": 1,
          "attributes": {
            "build": [],
            "create_time": "2020-08-22T01:01:05.619261230Z",
            "description": "",
            "disabled": false,
            "filename": "cloudbuild/cloudbuild.yaml",
            "id": "projects/hurrabuild/triggers/f0480cfa-ea30-425b-8620-b60d466d14d0",
            "ignored_files": [],
            "included_files": [],
            "name": "Nginx-Proxy",
            "project": "hurrabuild",
            "substitutions": {
              "_APP_NAME": "nginx-proxy",
              "_CONTEXT": "nginx-proxy",
              "_DOCKER_FILE": "Dockerfile"
            },
            "tags": [],
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "trigger_id": "f0480cfa-ea30-425b-8620-b60d466d14d0",
            "trigger_template": [
              {
                "branch_name": "^master$",
                "commit_sha": "",
                "dir": "",
                "invert_regex": false,
                "project_id": "hurrabuild",
                "repo_name": "bitbucket_aimannajjar_hurracloud",
                "tag_name": ""
              }
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        },
        {
          "index_key": "syncthing",
          "schema_version": 1,
          "attributes": {
            "build": [],
            "create_time": "2020-08-22T01:56:08.034183920Z",
            "description": "",
            "disabled": false,
            "filename": "cloudbuild/cloudbuild.yaml",
            "id": "projects/hurrabuild/triggers/a1501532-82c4-4c76-9e24-5132a73a2eb5",
            "ignored_files": null,
            "included_files": null,
            "name": "trigger",
            "project": "hurrabuild",
            "substitutions": {
              "_APP_NAME": "syncthing",
              "_CONTEXT": "docker-syncthing",
              "_DOCKER_FILE": "Dockerfile"
            },
            "tags": null,
            "timeouts": null,
            "trigger_id": "a1501532-82c4-4c76-9e24-5132a73a2eb5",
            "trigger_template": [
              {
                "branch_name": "^master$",
                "commit_sha": "",
                "dir": "",
                "invert_regex": false,
                "project_id": "hurrabuild",
                "repo_name": "bitbucket_aimannajjar_hurracloud",
                "tag_name": ""
              }
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAsImRlbGV0ZSI6MjQwMDAwMDAwMDAwLCJ1cGRhdGUiOjI0MDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_compute_instance",
      "name": "hurra-build",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 6,
          "attributes": {
            "allow_stopping_for_update": null,
            "attached_disk": [],
            "boot_disk": [
              {
                "auto_delete": false,
                "device_name": "hurra-build",
                "disk_encryption_key_raw": "",
                "disk_encryption_key_sha256": "",
                "initialize_params": [
                  {
                    "image": "https://www.googleapis.com/compute/v1/projects/ubuntu-os-cloud/global/images/ubuntu-2004-focal-v20200810",
                    "labels": {},
                    "size": 100,
                    "type": "pd-ssd"
                  }
                ],
                "kms_key_self_link": "",
                "mode": "READ_WRITE",
                "source": "https://www.googleapis.com/compute/v1/projects/hurrabuild/zones/us-east1-b/disks/hurra-build"
              }
            ],
            "can_ip_forward": false,
            "cpu_platform": "Intel Cascade Lake",
            "current_status": "RUNNING",
            "deletion_protection": false,
            "description": "",
            "desired_status": null,
            "enable_display": false,
            "guest_accelerator": [],
            "hostname": "",
            "id": "projects/hurrabuild/zones/us-east1-b/instances/hurra-build",
            "instance_id": "7671082532257761877",
            "label_fingerprint": "42WmSpB8rSM=",
            "labels": {},
            "machine_type": "c2-standard-8",
            "metadata": {
              "bitbucket-key": "-----BEGIN OPENSSH PRIVATE KEY-----\n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\n-----END OPENSSH PRIVATE KEY-----\n",
              "user-data": "#cloud-config\n\nusers:\n- name: aimannajjar\n  uid: 2000\n  shell: /bin/bash\n  home: /home/aimannajjar\n\n# runcmd: # for some reson, runcmd not working on gcp\nbootcmd:\n- [ sh, -c, echo \"========= Starting build =========\" ]\n- apt-get update\n- apt-get install -y gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat libsdl1.2-dev xterm\n- mkdir -p /mnt/hurracloud \u0026\u0026 chown aimannajjar:aimannajjar /mnt/hurracloud \u0026\u0026 cd /mnt/hurracloud\n- sudo -u aimannajjar bash -c 'curl http://metadata.google.internal/0.1/meta-data/attributes/bitbucket-key -o /home/aimannajjar/.ssh/id_rsa \u0026\u0026 chmod 600 /home/aimannajjar/.ssh/id_rsa \u0026\u0026 echo \u003e\u003e /home/aimannajjar/.ssh/id_rsa'\n- sudo -u aimannajjar bash -c \"echo 'bitbucket.org ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAubiN81eDcafrgMeLzaFPsw2kNvEcqTKl/VqLat/MaB33pZy0y3rJZtnqwR2qOOvbwKZYKiEO1O6VqNEBxKvJJelCq0dTXWT5pbO2gDXC6h6QDXCaHo6pOHGPUy+YBaGQRGuSusMEASYiWunYN0vCAI8QaXnWMXNMdFP3jHAJH0eDsoiGnLPBlBp4TNm6rYI74nMzgz3B9IikW4WVK+dc8KZJZWYjAuORU3jc1c/NPskD2ASinf8v3xnfXeukU0sJ5N6m5E8VLjObPEO+mN2t/FZTMZLiFqPWc/ALSqnMnnhwrNi2rbfg/rd/IpL8Le3pSBne8+seeFVBoGqzHM9yXw==' \u003e /home/aimannajjar/.ssh/known_hosts\" \n- sudo -u aimannajjar bash -c 'git clone --recursive -j8  git@bitbucket.org:aimannajjar/hurracloud.git'\n# - sudo -u aimannajjar bash -c 'cd /mnt/hurracloud/hurracloud/yocto \u0026\u0026 source poky/oe-init-build-env build-rpi3 \u0026\u0026 bitbake core-image-base'\n\n  # bootcmd:\n  # - apt-get update\n  # - apt-get install -y gawk wget git-core diffstat unzip texinfo gcc-multilib build-essential chrpath socat libsdl1.2-dev xterm\n  # - mkdir -p /mnt/hurracloud \u0026\u0026 chown aimannajjar:aimannajjar /mnt/hurracloud \u0026\u0026 cd /mnt/hurracloud\n  # \n  # - mkfs.ext4 /dev/nvme0n1 \u0026\u0026 mount /dev/nvme0n1 /mnt/hurracloud\n  # - sudo -u aimannajjar bash -c 'curl http://metadata.google.internal/0.1/meta-data/attributes/bitbucket-key -o /home/aimannajjar/.ssh/id_rsa \u0026\u0026 chmod 600 /home/aimannajjar/.ssh/id_rsa \u0026\u0026 echo \u003e\u003e /home/aimannajjar/.ssh/id_rsa'\n  # - sudo -u aimannajjar bash -c 'git clone --recursive  git@bitbucket.org:aimannajjar/hurracloud.git'\n  # - [ sh, -c, echo \"========= Starting build =========\" ]\n"
            },
            "metadata_fingerprint": "8Xq0VdZfzJM=",
            "metadata_startup_script": "",
            "min_cpu_platform": "",
            "name": "hurra-build",
            "network_interface": [
              {
                "access_config": [
                  {
                    "nat_ip": "34.74.35.181",
                    "network_tier": "PREMIUM",
                    "public_ptr_domain_name": ""
                  }
                ],
                "alias_ip_range": [],
                "name": "nic0",
                "network": "https://www.googleapis.com/compute/v1/projects/hurrabuild/global/networks/default",
                "network_ip": "10.142.0.3",
                "subnetwork": "https://www.googleapis.com/compute/v1/projects/hurrabuild/regions/us-east1/subnetworks/default",
                "subnetwork_project": "hurrabuild"
              }
            ],
            "project": "hurrabuild",
            "resource_policies": [],
            "scheduling": [
              {
                "automatic_restart": false,
                "node_affinities": [],
                "on_host_maintenance": "TERMINATE",
                "preemptible": true
              }
            ],
            "scratch_disk": [],
            "self_link": "https://www.googleapis.com/compute/v1/projects/hurrabuild/zones/us-east1-b/instances/hurra-build",
            "service_account": [
              {
                "email": "356836837404-compute@developer.gserviceaccount.com",
                "scopes": [
                  "https://www.googleapis.com/auth/devstorage.read_write",
                  "https://www.googleapis.com/auth/logging.write",
                  "https://www.googleapis.com/auth/monitoring.write",
                  "https://www.googleapis.com/auth/service.management.readonly",
                  "https://www.googleapis.com/auth/servicecontrol",
                  "https://www.googleapis.com/auth/trace.append"
                ]
              }
            ],
            "shielded_instance_config": [
              {
                "enable_integrity_monitoring": true,
                "enable_secure_boot": false,
                "enable_vtpm": true
              }
            ],
            "tags": [],
            "tags_fingerprint": "42WmSpB8rSM=",
            "timeouts": null,
            "zone": "us-east1-b"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiNiJ9"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "hurrabuild-build",
      "provider": "provider.google",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_policy_only": false,
            "cors": [],
            "default_event_based_hold": false,
            "encryption": [],
            "force_destroy": false,
            "id": "hurrabuild-build",
            "labels": {},
            "lifecycle_rule": [],
            "location": "US-EAST1",
            "logging": [],
            "name": "hurrabuild-build",
            "project": "hurrabuild",
            "requester_pays": false,
            "retention_policy": [],
            "self_link": "https://www.googleapis.com/storage/v1/b/hurrabuild-build",
            "storage_class": "STANDARD",
            "url": "gs://hurrabuild-build",
            "versioning": [],
            "website": []
          },
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
