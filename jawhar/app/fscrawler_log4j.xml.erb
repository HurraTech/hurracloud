<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="fatal">
   <Appenders>
      <Console name="CONSOLE" target="SYSTEM_OUT">
         <PatternLayout pattern="%d{ABSOLUTE} %highlight{%-5p} [%c{1.}] %m%n"/>
      </Console>
    <RollingFile name="FILE" fileName="<%= log_file %>" filePattern="<%= log_file %>.%i" append="true" maxFiles="1">
        <PatternLayout pattern="%d{ABSOLUTE} %highlight{%-5p} [%c{1.}] %m%n"/>
        <Policies>
            <OnStartupTriggeringPolicy minSize="512 MB" /> <!-- TODO: CHANGE THIS IN PROD -->
            <SizeBasedTriggeringPolicy size="512 MB" /> <!-- TODO: CHANGE THIS IN PROD -->
        </Policies>
        <DefaultRolloverStrategy max="1"/>
    </RollingFile>
   </Appenders>
   <Loggers>
      <Logger name="fr.pilato.elasticsearch.crawler.fs" level="debug" additivity="false">
         <AppenderRef ref="CONSOLE"/>
         <AppenderRef ref="FILE"/>
      </Logger>
      <Logger name="org.elasticsearch" level="warn" additivity="false">
         <AppenderRef ref="CONSOLE"/>
         <AppenderRef ref="FILE"/>
      </Logger>
      <Logger name="org.glassfish" level="warn" additivity="false">
         <AppenderRef ref="CONSOLE"/>
         <AppenderRef ref="FILE"/>
      </Logger>
      <Logger name="org.apache.tika.parser.ocr.TesseractOCRParser" level="error" additivity="false">
         <AppenderRef ref="CONSOLE"/>
         <AppenderRef ref="FILE"/>
      </Logger>
      <Root level="debug">
         <AppenderRef ref="CONSOLE"/>
         <AppenderRef ref="FILE"/>
      </Root>
   </Loggers>
</Configuration>