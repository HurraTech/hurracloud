CVE: CVE-2019-19926
Upstream-Status: Backport
Signed-off-by: Ross Burton <ross.burton@intel.com>

From 4165b1e1e0001165ace9051a70f938099505eadc Mon Sep 17 00:00:00 2001
From: "D. Richard Hipp" <drh@hwaci.com>
Date: Thu, 19 Dec 2019 22:08:19 +0000
Subject: [PATCH] Continuation of [e2bddcd4c55ba3cb]: Add another spot where it
 is necessary to abort early due to prior errors in sqlite3WindowRewrite().

FossilOrigin-Name: cba2a2a44cdf138a629109bb0ad088ed4ef67fc66bed3e0373554681a39615d2
---
 sqlite3.c | 7 ++++---
 sqlite3.h | 2 +-
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/sqlite3.c b/sqlite3.c
index 857c28e..19a474d 100644
--- a/sqlite3.c
+++ b/sqlite3.c
@@ -128427,6 +128427,7 @@ static int multiSelect(
     }
   #endif
   }
+  if( pParse->nErr ) goto multi_select_end;
   
   /* Compute collating sequences used by 
   ** temporary tables needed to implement the compound select.
-- 
2.24.1

